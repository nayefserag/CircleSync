{"version":3,"file":"index.js","sources":["../../../src/tracing/index.ts"],"sourcesContent":["import type { LazyLoadedIntegration } from '@sentry-internal/tracing';\nimport { lazyLoadedNodePerformanceMonitoringIntegrations } from '@sentry-internal/tracing';\nimport type { Integration } from '@sentry/types';\nimport { logger } from '@sentry/utils';\n\n/**\n * Automatically detects and returns integrations that will work with your dependencies.\n */\nexport function autoDiscoverNodePerformanceMonitoringIntegrations(): Integration[] {\n  const loadedIntegrations = lazyLoadedNodePerformanceMonitoringIntegrations\n    .map(tryLoad => {\n      try {\n        return tryLoad();\n      } catch (_) {\n        return undefined;\n      }\n    })\n    .filter(integration => !!integration) as LazyLoadedIntegration[];\n\n  if (loadedIntegrations.length === 0) {\n    logger.warn('Performance monitoring integrations could not be automatically loaded.');\n  }\n\n  // Only return integrations where their dependencies loaded successfully.\n  return loadedIntegrations.filter(integration => !!integration.loadDependency());\n}\n"],"names":["lazyLoadedNodePerformanceMonitoringIntegrations","logger"],"mappings":";;;;;AAKA;AACA;AACA;AACA,SAAA,iDAAA,GAAA;AACA,EAAA,MAAA,kBAAA,GAAAA,uDAAA;AACA,KAAA,GAAA,CAAA,OAAA,IAAA;AACA,MAAA,IAAA;AACA,QAAA,OAAA,OAAA,EAAA,CAAA;AACA,OAAA,CAAA,OAAA,CAAA,EAAA;AACA,QAAA,OAAA,SAAA,CAAA;AACA,OAAA;AACA,KAAA,CAAA;AACA,KAAA,MAAA,CAAA,WAAA,IAAA,CAAA,CAAA,WAAA,CAAA,EAAA;AACA;AACA,EAAA,IAAA,kBAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,IAAAC,YAAA,CAAA,IAAA,CAAA,wEAAA,CAAA,CAAA;AACA,GAAA;AACA;AACA;AACA,EAAA,OAAA,kBAAA,CAAA,MAAA,CAAA,WAAA,IAAA,CAAA,CAAA,WAAA,CAAA,cAAA,EAAA,CAAA,CAAA;AACA;;;;"}