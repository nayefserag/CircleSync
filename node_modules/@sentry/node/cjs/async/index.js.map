{"version":3,"file":"index.js","sources":["../../../src/async/index.ts"],"sourcesContent":["import { NODE_VERSION } from '../nodeVersion';\nimport { setDomainAsyncContextStrategy } from './domain';\nimport { setHooksAsyncContextStrategy } from './hooks';\n\n/**\n * Sets the correct async context strategy for Node.js\n *\n * Node.js >= 14 uses AsyncLocalStorage\n * Node.js < 14 uses domains\n */\nexport function setNodeAsyncContextStrategy(): void {\n  if (NODE_VERSION.major && NODE_VERSION.major >= 14) {\n    setHooksAsyncContextStrategy();\n  } else {\n    setDomainAsyncContextStrategy();\n  }\n}\n"],"names":["NODE_VERSION","setHooksAsyncContextStrategy","setDomainAsyncContextStrategy"],"mappings":";;;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,SAAA,2BAAA,GAAA;AACA,EAAA,IAAAA,wBAAA,CAAA,KAAA,IAAAA,wBAAA,CAAA,KAAA,IAAA,EAAA,EAAA;AACA,IAAAC,kCAAA,EAAA,CAAA;AACA,GAAA,MAAA;AACA,IAAAC,oCAAA,EAAA,CAAA;AACA,GAAA;AACA;;;;"}